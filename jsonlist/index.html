<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=description><meta name=author><link rel=icon href=../favicon.ico><title>JSON ordered list</title><link rel=stylesheet type=text/css href=../css/style.css><meta name=generator content="Gulp 3.9.1"><link rel=alternate type=application/rss+xml title="Project Title" href=../rss.xml></head><body><div class=container><h1>JSON ordered list</h1><p class=post-meta>August 16th 2017 by <span></span> on <a href=../tag/mytag>mytag</a></p><hr><h2 id=the-goal-a-list>The goal: a list</h2><p>The desired list is generated automatically from</p><ul><li>a JSON file containing list items</li><li>a handlebars template</li><li>front matter variables referring to the JSON file and the template</li></ul><h2 id=implementation>Implementation</h2><h3 id=the-front-matter>The front matter</h3><p><code>jsonFile</code> is the path to the JSON formatted data relative to the <code>$project_dir/edit/data</code> directory, where <code>$project_dir</code> defaults to <code>base</code>. Setting <code>jsonOrderedList: true</code> is used by the handlebars template to import the correct partial, in this case <code>json-gallery.hbs</code>.</p><pre><code>template:    post.hbs
...
jsonFile:    galleries/self-portraits.json
jsonGallery: true
</code></pre><h3 id=the-data>The data</h3><p>The content of <code>$project_dir/edit/data/lists/greek-alphabet.json</code> is an array of hash objects. The <code>json-ordered-list</code> handlebars template (below) expects each object to have property key: <code>li</code>, which matches the corresponding HTML element. These data are imported into the <code>jsonData</code> variable.</p><pre><code>[
    { &quot;li&quot;: &quot;alpha&quot; },
    { &quot;li&quot;: &quot;beta&quot; },
    { &quot;li&quot;: &quot;gamma&quot; },
    { &quot;li&quot;: &quot;delta&quot; },
    { &quot;li&quot;: &quot;epsilon&quot; }
]
</code></pre><h3 id=the-templates>The templates</h3><h4 id=top-and-middle-level>Top and middle level</h4><p>The top (<code>post.hbs</code> or <code>page.hbs</code>) and middle level (<code>json-main.hbs</code>) template are shared by all types of posts and pages that use external data in some <code>jsonFile</code>. These templates are described in <a href=../jsongallery>JSON gallery</a>.</p><h4 id=bottom-level-template>Bottom level template</h4><p>The partial <code>json-ordered-list.hbs</code> loops over all elements of the array in <code>jsonData</code> and for each element---an object---gets the value of the <code>li</code> property.</p><pre><code>&lt;ol&gt;
{{#jsonData}}
    &lt;li&gt;{{li}}&lt;/li&gt;
{{/jsonData}}
&lt;/ol&gt;
</code></pre><h3 id=json-unordered-list>JSON unordered list</h3><p>With the same JSON data structure can be displayed as unordered list using <code>jsonUnorderedList: true</code> instead of <code>jsonOrderedList: true</code>. That selects <code>json-unordered-list.hbs</code> instead of <code>json-ordered-list.hbs</code>, where the difference is that <code>json-unordered-list.hbs</code> uses an <code>&lt;ul&gt;</code> HTML element instead of <code>&lt;ol&gt;</code>.</p><h2 id=the-result>The result</h2><hr><ol><li>alpha</li><li>beta</li><li>gamma</li><li>delta</li><li>epsilon</li></ol></div><script type=text/javascript src=../js/combined.min.js></script></body></html>